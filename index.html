<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>KML Click Capture Sample</title>
    <style>
      html,
      body {
        height: 370px;
        padding: 0;
        margin: 0;
      }

      #map {
        height: 600px;
        width: 600px;
        overflow: hidden;
        float: left;
        border: thin solid #333;
      }

      #capture {
        height: 200px;
        width: 200px;
        overflow: hidden;
        float: left;
        background-color: #ECECFB;
        border: thin solid #333;
        border-left: none;
      }
    </style>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5mnGWeMJiOH8kboNFtRu-k5ogA3USTr8&callback=initMap">
    </script>
  </head>
<body>
  <div id="map"></div>
  <div id="capture"></div>
  <script>
    var map;
    var src = [
      'https://developers.google.com/maps/documentation/javascript/examples/kml/westcampus.kml',
      './cta.kml',
      'http://googlemaps.github.io/js-v2-samples/ggeoxml/cta.kml'
    ];

    function initMap() {
      console.log('iniiiitxs')
      map = new google.maps.Map(document.getElementById('map'), {
        center: new google.maps.LatLng(-12.0648539,-77.0368814),
        zoom: 16,
        mapTypeId: 'terrain'
      });

      var kmlLayer = new google.maps.KmlLayer(src[1], {
        // suppressInfoWindows: false,
        // preserveViewport: false,
        map: map
      });
      kmlLayer.addListener('click', function(event) {
        console.log('click')
        var content = event.featureData.infoWindowHtml;
        var testimonial = document.getElementById('capture');
        testimonial.innerHTML = content;
      });
    }

    // function initMap() {
    //   var mapOptions = {
    //     zoom: 5,
    //     center: new google.maps.LatLng(24.886, -70.269),
    //     mapTypeId: 'terrain'
    //   };

    //   var map = new google.maps.Map(document.getElementById('map'),
    //     mapOptions);

    //   var bermudaTriangle = new google.maps.Polygon({
    //     paths: [
    //       new google.maps.LatLng(25.774, -80.190),
    //       new google.maps.LatLng(18.466, -66.118),
    //       new google.maps.LatLng(32.321, -64.757)
    //     ]
    //   });

    //   google.maps.event.addListener(map, 'click', function (event) {
    //     console.log(google.maps.geometry.poly.containsLocation(event.latLng, bermudaTriangle));
    //   });
    // }

    // google.maps.event.addDomListener(window, 'load', initialize);
  </script>
</body>

</html>